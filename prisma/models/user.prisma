model User {
  id          Int        @id @default(autoincrement())
  email       String     @unique @db.VarChar(255)
  password    String     @db.VarChar(255)
  name        String?    @db.VarChar(100)
  image       String?    @db.VarChar(500)
  role        Role       @default(USER)
  status      UserStatus @default(ACTIVE)
  lastLoginAt DateTime?  @map("last_login_at")

  createdAt DateTime  @default(now()) @map("created_at") @db.Timestamptz(3)
  updatedAt DateTime  @updatedAt @map("updated_at") @db.Timestamptz(3)
  deletedAt DateTime? @map("deleted_at") @db.Timestamptz(3)
  post      Post[]
  pet       Pet[]

  @@index([email], map: "idx_user_email")
  @@index([status], map: "idx_user_status")
  @@index([deletedAt], map: "idx_user_deleted_at")
  @@map("user")
}

enum Role {
  USER  @map("유저")
  ADMIN @map("관리자")
}

enum UserStatus {
  ACTIVE    @map("활성")
  INACTIVE  @map("비활성")
  SUSPENDED @map("정지")
  BANNED    @map("차단")
}
